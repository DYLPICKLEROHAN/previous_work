flights
colnames(flights)
colname(flights)
colnames(flights)
ggplot(flights, aes(dep_delay, sched_dep_time ))+ geom_point()
flights%>%
group_by(origin)%>%
ggplot(aes(dep_time, col = origin))+geom_boxplot()
flights%>%
mutate( arr_late = filter(arr_delay > 30 = TRUE))
flights%>%
mutate( arr_late = filter(arr_delay > 30) = TRUE)
flights%>%
mutate( arr_late = str_detect(arr_delay > 30))
flights%>%
mutate( arr_late = str_detect(arr_delay >30))
flights%>%
mutate( arr_late = str_detect(arr_delay =  >30))
flights%>%
mutate(arr_late = str_detect(arr_delay, 30))
flights%>%
mutate(arr_late = str_detect(arr_delay, "30"))
flights%>%
str_detect(arr_delay, >30))
flights%>%
filter(arr_delay > 30))
flights%>%
filter(arr_delay > 30)
flights$arr_late <- filter(arr_delay .30, negate = TRUE)
flights$arr_late <- filter(arr_delay >30, negate = TRUE)
flights$arr_late <- filter(flights$arr_delay >30, negate = TRUE)
flights$arr_late <- filter(flights$arr_delay >30,)
flights$arr_late <- filter(flights$arr_delay > 30)
flights$arr_late <- filter(flights, arr_delay > 30)
View(flights)
flights%>%
mutate(arr_late = filter(flights, arr_delay > 30))
flights%>%
mutate(arr_late = filter(flights, arr_delay > 30))
flights%>%
mutate(arr_late = filter(flights, arr_delay > 30), negate = FALSE)
flights%>%
mutate(arr_late = filter(flights, arr_delay > 30), negate = TRUE)
flights%>%
mutate(arr_late = filter(flights, arr_delay > 30)| FALSE)
flights%>%
filter(arr_delay > 30) %>%
mutate(arr_late = TRUE)
flights
View(flights)
flights$arr_late <- flights$arr_delay >30
flights$dep_late <- flights$dep_delay >30
flights
View(flights)
summary(flights$arr_time)
summary(flights$arr_tiarr_late)
summary(flights$arr_late)
summmary(flights$dep_delay)
summary(flights$dep_delay)
summary(flights$arr_late)
summary(flights$dep_late)
filter(flights, dep_late = FALSE, arr_late == TRUE)
filter(flights, dep_late = "FALSE", arr_late == "TRUE")
filter(flights, dep_late += "FALSE", arr_late == "TRUE")
filter(flights, dep_late == "FALSE", arr_late == "TRUE")
filter(flights, dep_late == "TRUE", arr_late == "FALSE")
ggplot(flights, aes(arr_time, dep_time))+geom_point()
ggplot(flights, aes( x= origin, col = carrier))+ geom_bar()
colnames(airports)
unique(airports$name)
colnames(airports)
colnames(airports$faa)
colnames(airports$lat)
colnames(airports$lon)
colnames(airports$tz)
colnames(airports$dst)
View(airlines)
ggplot(flights, aes( x= origin, fil = carrier))+ geom_bar()
ggplot(flights, aes( x= origin, fill = carrier))+ geom_bar()
filter(flights, origin == "JFK")
flights%>%
filter( origin == "JFK")
flights%>%
filter( origin == "EWR", origin == "LGA")%>%
str_detect(origin =="JFK", carrier  )
flights%>%
filter( origin == "EWR", origin == "LGA")
flights%>%
filter(origin == "EWR","LGA")
flights%>%
filter(origin = EWR, LGA)
flights%>%
ifilter(carrier == "9E", origin == "EWR")
flights%>%
filter(carrier == "9E", origin == "EWR")
flights%>%
filter(carrier == "HA", origin == "EWR")
flights%>%
filter(carrier == "HA", origin == "LGA")
flights%>%
filter(carrier == "YV", origin == "LGA")
flights%>%
filter(carrier == "B6", origin == "LGA")
inspect_mem(flights)
inspect_num(flights)
ggplot(flights, aes(log(arr_delay)))+
boxplot
ggplot(flights, aes(log(arr_delay)))+
geom_boxplot()
ggplot(flights, aes(month, log(arr_delay)))+
geom_boxplot()
flights%>%
group_by(month)%>%
ggplot(aes(log(arr_delay)))+
geom_boxplot()
flights%>%
ggplot(aes(month , log(arr_delay)))+
geom_boxplot()
flights%>%
ggplot(aes(x= month , y= log(arr_delay)))+
geom_boxplot()
flights %>%
filter(dep_delay > 0)%>%
mutate(log_delay = log(dep_delay))%>%
ggplot(aes(log_delay, month))+ geom_boxplot()
flights <- flights %>%
filter(dep_delay > 0)%>%
mutate(log_delay = log(dep_delay))
ggplot(fliughts, aes(log_delay, month))+ geom_boxplot()
ggplot(flights, aes(log_delay, month))+ geom_boxplot()
ggplot(flights, aes(log_delay))+ geom_boxplot()+
colname(flights)
ggplot(flights, aes(log_delay))+ geom_boxplot()
ggplot(flights, aes(x= month, y = log_delay))+ geom_boxplot()
flights <- factor(flights$month)
flights$month <- factor(flights$month)
flights$month <- factor(flights$month)
flights <- flights %>%
filter(dep_delay > 0)%>%
mutate(log_delay = log(dep_delay))
ggplot(flights, aes(x= month, y = log_delay))+ geom_boxplot()
fights
flights
data(flights)
ggplot(flights, aes( x= origin, fill = carrier))+ geom_bar()
unique(airports$name)
flights$month <- factor(flights$month)
flights <- flights %>%
filter(dep_delay > 0)%>%
mutate(log_delay = log(dep_delay))
ggplot(flights, aes(x= month, y = log_delay))+ geom_boxplot()
flights <- flights %>%
filter(arr_delay > 0)%>%
mutate(log_adelay = log(arr_delay))
flights <- flights %>%
filter(arr_delay > 0)%>%
mutate(log_adelay = log(arr_delay))
ggplot(flights, aes(x=month, y= log_adelay))+geom_boxplot()
ggplot(flights, aes(x= carrier, y= log(log_delay)))+geom_boxplot()
source("~/Data science/Data Taming, modelling and Vizalization_RStudio/Weeks work.R", encoding = 'UTF-8')
flights$arr_late <- flights$arr_delay >30
flights$dep_late <- flights$dep_delay >30
summary(flights$arr_late)
summary(flights$dep_late)
filter(flights, dep_late == "FALSE", arr_late == "TRUE")
filter(flights, dep_late == "TRUE", arr_late == "FALSE")
count(filter(flights, dep_late == "FALSE", arr_late == "TRUE"))
count(filter(flights, dep_late == "TRUE", arr_late == "FALSE"))
m1 <-  lm(log_delay~month+ dep_time + origin + carrier, data = flights)
m1 <-  lm(log_delay~month+ dep_time + origin + carrier, data = flights)
m2 <-  lm(log_delay~month+ dep_time + origin + carrier + origin:dep_time, data = flights)
anova(m2)
m3 <- lm(log_delay~month*carrier, data = flights)
summary(m3)
m3 <- lm(log_delay~month+ carrier + month:carrier, data = flights)
summary(m3)
anova(m3)
q1 <- lm(log_delay~month, data = flighs)
q1 <- lm(log_delay~month, data = flights)
predict(q1, new_data = filter( month = 1))
predict(q1, new_data = filter(month = 1))
q1 <- lm(log_delay~month, data = flights)
predict(q1, new_data = filter(month = 1))
predict(q1, new_data = tibble(month = 1))
predict(q1, new_data = tibble(month = 1))
predict(midwest_sep, newdata = tibble(poptotal=10000, state="OH"), interval = "prediction")
predict(q1, new_data = tibble(month = 1))
m3 <- lm(log_delay ~ month + carrier + month:carrier, data = flights)
predict(m1, new_data = tibble(month = 1))
q1 <- lm(log_delay ~ month, data = flights)
summry(q1)
summary(q1)
predict(q1, ne_data = tibble month = 1)
predict(q1, ne_data = tibble month = 1))
predict(q1, ne_data = tibble(month = 1))
predict(q1, new_data = tibble(month = 1))
predict(question, new_data = tibble(month = 1))
question <- lm(log_delay ~ month, data = flights)
summary(question)
predict(question, new_data = tibble(month = 1))
predict(question, newdata = tibble(month = 1))
newdata <- data.frame(flights$month = 1)
predict(question, new_data = tibble(month = 1))
predict(question, new_data = tibble(month = "1"))
summary(question)
3.163943-0.135877
question_five <-  lm(log_delay ~ dep_time, data = flights)
summary(question 5)
summary(question_five
summary(question_five)
question_five <-  lm(log_delay ~ dep_time, data = flights)
summary(question_five)
predict(question_five, new_data = tibble(dep_time = 30))
summary(question_five)
2.189+7.214e-04(30)
2.189+7.214e-04*30
2.189+(7.214e-04)*30
summary(question_five)
question_sevem <- lm(log_delay~ dep_time + month + dep_time:month, data = flights)
anova(question_seven)
question_sevem <- lm(log_delay~ dep_time + month + dep_time:month, data = flights)
anova(question_seven)
question_seven <- lm(log_delay~ dep_time + month + dep_time:month, data = flights)
anova(question_seven)
predict(question_seven, new_data= tibble(month=7))
summary
summary(question_seven)
2.058+4.712e-01+-1.048e-04
question_seven <- lm(log_delay ~ dep_time + month + dep_time:month, data = flights)
anova(question_seven)
summary(question_seven)
q10 <- lm(log_delay ~ origin + carrier + origin:carrier, data = fights)
summary(q10)
q10 <- lm(log_delay ~ origin + carrier + origin:carrier, data = fights)
summary(q10)
q10 <- lm(log_delay ~ origin + carrier + origin:carrier, data = flights)
summary(q10)
question <- lm(log_delay ~ month, data = flights)
summary(question)
question <- lm(log_delay ~ month, data = flights)
summary(question)
library(tidyverse)
library(dyplr)
library(dplyr)
library(stringr)
data(flights)
flights <- flights %>%
filter(dep_delay > 0)%>%
mutate(log_delay = log(dep_delay))
flights$month <- factor(flights$month)
q1 <- lm(log_delay ~ month, data = flights)
summary(q1)
2.72185 + 0.35894
2.72185+-0.15459
predict(q1, new data = tibble(month = 11))
predict(q1, newdata = tibble(month = 11))
predict(q1, newdata = tibble(month = "11"))
log(x)=11
e^2.567252
2.71828182846^2.567252
q5 <- ln(log_delay ~ dep_time, data = flights)
q5 <- lm(log_delay ~ dep_time, data = flights)
predict(q5, newdata = tibble(dep_time >30))
predict(q5, newdata = tibble(dep_time =>31))
predict(q5, newdata = tibble(dep_time >=31))
predict(q5, newdata = tibble(filter(dep_time >=31))
predict(q5, newdata = tibble(filter(dep_time >=31)))
predict(q5, newdata = filter(dep_time >=31)))
predict(q5, newdata = filter(dep_time >=31))
predict(q5, newdata = filter("dep_time" >=31))
predict(q5, newdata = tibble(dep_time>30)
predict(q5, newdata = tibble(dep_time>30))
newdata <- filter(flights, dep_delay = 30)
newdata <- filter(flights, dep_delay == 30)
predict(q5, newdata)
flights <- flights %>%
filter(dep_delay > 0)%>%
mutate(log_delay = log(dep_delay))
flights$month <
flights$month <- factor(flights$month)
flights <- flights %>%
filter(dep_delay > 0)%>%
mutate(log_delay = log(dep_delay))
flights$month <- factor(flights$month)
data(flights)
flights <- flights %>%
filter(dep_delay > 0)%>%
mutate(log_delay = log(dep_delay))
flights$month <- factor(flights$month)
13.03*30
log(13.03*30)
q5 <- lm(log_delay ~ dep_time, data = flights)
summary(q5)
plot(q5)
1.542e+00+(8.524e-04)*30
log(1.542e+00+(8.524e-04)*30)
log((8.524e-04)*30)
8.524e-04
q5 <- lm(log_delay ~ dep_time, data = flights)
flights <- flights %>%
filter(dep_delay > 0)%>%
mutate(log_delay = log(dep_delay))
flights$month <- factor(flights$month)
q5 <- lm(log_delay ~ dep_time, data = flights)
summary(q5)
0.0008524*30
2.71828182846^ 0.025572
predict(q5, newdata = table(month == "8"))
predict(q5, newdata = table(month = 8)
predict(q5, newdata = table(month = 8))
predict(q5, newdata = table(month = "8"))
predict(q1, newdata = table(month = "8"))
question_seven <- lm(log_delay ~ dep_time + month + dep_time:month, data = flights)
anova(question_seven)
summary(question_seven)
1.562e+00+-5.328e-02+5.901e-05
data(flights)
flights <- flights %>%
filter(dep_delay > 0)%>%
mutate(log_delay = log(dep_delay))
flights$month <- factor(flights$month)
question_seven <- lm(log_delay ~ dep_time + month + dep_time:month, data = flights)
anova(question_seven)
summary(question_seven)
5.901e-05+-5.328e-02
7.833e-04+-5.328e-02
7.833e-04-5.328e-02
04
7.833e-04
7.833e-04+5.901e-05
7.833e-04+5.901e-05
-5.328e-02+0.00084231
question_seven <- lm(log_delay ~ dep_time + month + dep_time:month, data = flights)
anova(question_seven)
summary(question_seven)
q10 <- lm(log_delay ~ origin + carrier + origin:carrier, data = flights)
summary(q10)
summary(question_seven)
quiz <- lm(log_delay ~ month + dep_time + origin + dep_time:origin, data = flights)
quiz <- lm(log_delay ~ month + dep_time + origin + dep_time:origin, data = flights)
summary(quiz)
newdata <- filter(flights, dep_time = 1100, origin = JFK, month = 8)
newdata <- filter(flights, dep_time == 1100, origin == JFK, month == 8)
newdata <- filter(flights, dep_time == 1100, origin == "JFK:, month == 8)
newdata <- filter(flights, dep_time == 1100, origin == "JFK", month == 8)
newdata <- filter(flights, dep_time == 1100, origin == JFK, month == 8)
View(airlines)
newdata <- filter(flights, dep_time == 1100, origin == JFK, month == 8, carrier ==EV)
unique(flights$origin)
newdata <- filter(flights, dep_time == 1100, origin == JFK, month == 8, carrier ==EV)
newdata <- filter(flights, dep_time == 1100, month == 8, carrier ==EV)
carrier ==EV
newdata <- filter(flights, dep_time == 1100, month == 8)
newdata <- filter(flights, dep_time == 1100, month == 8, origin = "JFK")
newdata <- filter(flights, dep_time == 1100, month == 8, origin == "JFK")
newdata <- filter(flights, dep_time == 1100, month == 8, origin == "JFK")
newdata <- filter(flights, dep_time == 1100, month == 8, origin == "JFK", carrier == "EV")
predic(quiz, newdata)
predict(quiz, newdata)
predict(quiz, newdata = newdata)
quiz <- lm(log_delay ~ month + dep_time + origin + carrier + dep_time:origin, data = flights)
summary(quiz)
newdata <- filter(flights, dep_time == 1100, month == 8, origin == "JFK", carrier == "EV")
predict(quiz, newdata = newdata)
newd <- filter(flights, dep_time == 1100, month == 8, origin == "JFK", carrier == "EV")
predict(quiz, newdata = newd)
data(flights)
flights <- flights %>%
filter(dep_delay > 0)%>%
mutate(log_delay = log(dep_delay))
flights$month <- factor(flights$month)
quiz <- lm(log_delay ~ month + dep_time + origin + carrier + dep_time:origin, data = flights)
newd <- filter(flights, dep_time == 1100, month == 8, origin == "JFK", carrier == "EV")
predict(quiz, newdata = newd)
newd <- filter(flights, dep_time == 1100, month == 8, origin == "JFK", carrier == "EV")
predict(quiz, newdata = newd)
summary(quiz)
9.152e-04+3.187e-04+5.203e-02
newd <- filter(flights, dep_time == 1100, month == 8, origin == "JFK", carrier == "EV")
summary(newd)
carrier = "EV"
new_data  <- tibble(
month = "8",
dep_time = 1100,
origin = "JFK",
carrier = "EV")
predict(quiz, newdata = new_data)
exp(2.80092)
exp(2.80092)
unique(flights$origin)
new_data  <- tibble(
month = "2",
dep_time = 1500,
origin = "LGA",
carrier = "AS")
predict(quiz, newdata = new_data, interval = "confidence")
exp(2.415776)
new_data  <- tibble(
month = "8",
dep_time = 1100,
origin = "JFK",
carrier = "EV")
predict(quiz, newdata = new_data, interval="prediction")
exp(2.8)
exp(5.389)
218/60unique(flights$origin)
218/60
unique(flights$origin)
flighta  <- tibble(
month = "3",
dep_time = 0620,
origin = "LGA",
carrier = "EV")
predict(quiz, newdata = flighta, interval = "confidence")
predict(quiz, newdata = flighta)
flightb  <- tibble(
month = "3",
dep_time = 0710,
origin = "JFK",
carrier = "HA")
predict(quiz, newdata = flightb)
exp(2.416)
exp(1.9536)
interval = "confidence
predict(quiz, newdata = flightb,  interval = "confidence")
predict(quiz, newdata = flightb, interval = "confidence")
predict(quiz, newdata = flighta, interval = "confidence")
predict(quiz, newdata = flightb, interval = "confidence")
exp(2.460393)-exp(1.641225)
exp(2.460393)
predict(quiz, newdata = flightb, interval = "confidence")
predict(quiz, newdata = flighta, interval = "confidence")
predict(quiz, newdata = flightb, interval = "confidence")
predict(quiz, newdata = flighta, interval = "confidence")
exp(2.416153)
predict(quiz, newdata = flightb, interval = "confidence")
#for flight A = 11.2min delay
exp(1.952629)
predict(quiz, newdata = flighta, interval = "confidence")
#flight b = 7.05 min delay
exp(2.371914 )
predict(quiz, newdata = flightb, interval = "confidence")
#at best flight A can leave with a 10min delay at 0630
exp(1.641225)
predict(quiz, newdata = flighta, interval = "confidence")
predict(quiz, newdata = flighta, interval = "confidence")
#flight b = 7.05 min delay
exp(2.460393 )
predict(quiz, newdata = flightb, interval = "confidence")
#at best flight A can leave with a 10min delay at 0630, at worst 0631
exp(2.266033)
predict(quiz, newdata = flighta, interval = "prediction")
predict(quiz, newdata = flightb, interval = "prediction")
#at best flight A can leave with a 10min delay at 0630, at worst 0631
exp(4.560411)
predict(quiz, newdata = flightx)
flightx  <- tibble(
month = "12",
dep_time = 1900,
origin = "JFK",
carrier = "AA")
predict(quiz, newdata = flightx)
flightx  <- tibble(
month = "12",
dep_time = 1900,
origin = "LGA",
carrier = "AA")
predict(quiz, newdata = flightx)
unique(flights$origin)
flightx  <- tibble(
month = "12",
dep_time = 1900,
origin = "EWR",
carrier = "AA")
predict(quiz, newdata = flightx)
unique(flights$origin)
new_data  <- tibble(
month = "2",
dep_time = 1500,
origin = "LGA",
carrier = "AS")
predict(quiz, newdata = new_data, interval = "confidence")
exp(2.40)
new_data  <- tibble(
month = "2",
dep_time = 1500,
origin = "LGA",
carrier = "AS")
predict(quiz, newdata = new_data, interval = "confidence")
predict(quiz, newdata = new_data, interval = "confidence")%>%
exp()
predict(quiz, newdata = flighta, interval = "prediction")
predict(quiz, newdata = flightb, interval = "prediction")
source("~/Data science/Data Taming, modelling and Vizalization_RStudio/Weeks work.R", encoding = 'UTF-8')
inspect_num(flights)
del <- lm(log_del~day+month+sched_dep_time+origin+carrier+distance+day:month+origin:carrier+day:sched_sep_time, data=flights)
del <- lm(log_delay~day+month+sched_dep_time+origin+carrier+distance+day:month+origin:carrier+day:sched_sep_time, data=flights)
del <- lm(log_delay~day+month+sched_dep_time+origin+carrier+distance+day:month+origin:carrier+day:sched_dep_time, data=flights)
summary(del)
anova(del)
ANOVA
anova(m2)
anova(m3)
anova(del)
del2 <- lm(log_delay~month+sched_dep_time+origin+carrier+distance+day:month+origin:carrier, data=flights)
anova(del)
del2 <- lm(log_delay~month+sched_dep_time+origin+carrier+distance+day:month+origin:carrier, data=flights)
anova(del2)
source("~/Data science/Data Taming, modelling and Vizalization_RStudio/Weeks work.R", encoding = 'UTF-8')
source("~/Data science/Data Taming, modelling and Vizalization_RStudio/Weeks work.R", encoding = 'UTF-8')
source("~/Data science/Data Taming, modelling and Vizalization_RStudio/Weeks work.R", encoding = 'UTF-8')
source("~/Data science/Data Taming, modelling and Vizalization_RStudio/Weeks work.R", encoding = 'UTF-8')
